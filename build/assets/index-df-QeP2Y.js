import{u as g}from"./orders-CjeE-poP.js";import{c as D,r as m,P as C,u as E,s as k,t as A,x as B,a as l,b as s,i as d,j as h,A as a,e as t,f as r,h as _,F,k as j,o}from"./index-BZlZztwk.js";import{_ as L}from"./orders.vue_vue_type_script_setup_true_lang-B96A8iBV.js";import{S as p}from"./spinner-2k92dcTC.js";import{i as O}from"./index-BTutWPBR.js";var S=D("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);const R={class:"bg-white py-2"},V={class:"container mx-auto px-4 lg:px-0"},N={key:0,class:"flex justify-between"},I={class:"flex items-center gap-3"},M={class:"font-bold"},T={key:0,class:"text-sm py-1 px-4 bg-mainColor rounded-full text-white"},P={key:1,class:"text-sm py-1 px-4 bg-orange-400 rounded-full text-white"},U={key:2,class:"text-sm py-1 px-4 bg-green-400 rounded-full text-white"},$={class:"mt-8"},q={class:"container mx-auto px-4 lg:px-0"},z={key:0,style:{"box-shadow":"0px 3px 10px 0px #0000000D"},class:"mb-4"},G=s("div",{class:"flex items-center justify-between text-mainColor w-full bg-[#E7F0FF] px-4 py-2"},[s("h1",{class:"text-mainColor font-bold"}," Данные заказчика ")],-1),H={class:"p-5 flex flex-col gap-3 bg-white"},J={class:""},K={class:"mb-2"},Q=s("p",{class:"text-sm text-[#9A9BA4]"}," ФИО ",-1),W={class:"p-3 border-b border-[#235CEE40]"},X={class:"flex justify-between gap-2"},Y={class:"w-full"},Z=s("p",{class:"text-sm text-[#9A9BA4]"}," Email ",-1),ss={class:"p-3 border-b border-[#235CEE40]"},es={class:"w-full"},ts=s("p",{class:"text-sm text-[#9A9BA4]"}," Телефон ",-1),os={class:"p-3 border-b border-[#235CEE40]"},as={key:2},ls=s("div",{style:{"box-shadow":"0px 3px 10px 0px #0000000D"},class:"flex items-center justify-between text-mainColor w-full bg-[#E7F0FF] px-4 py-2"},[s("h1",{class:"text-mainColor font-bold"}," Данные заказа ")],-1),rs={class:"p-5 flex flex-col gap-3 bg-white"},cs={class:""},is={class:"flex justify-between gap-2 mb-2"},ns={class:"w-full"},ds=s("p",{class:"text-sm text-[#9A9BA4]"}," Дата ",-1),_s={class:"p-3 border-b border-[#235CEE40]"},ps={class:"w-full"},us=s("p",{class:"text-sm text-[#9A9BA4]"}," Время ",-1),xs={class:"p-3 border-b border-[#235CEE40]"},ms={class:"mb-2"},hs=s("p",{class:"text-sm text-[#9A9BA4]"}," Цена ",-1),bs={class:"p-3 border-b border-[#235CEE40]"},fs={class:"mb-2"},vs=s("p",{class:"text-sm text-[#9A9BA4]"}," Тип ",-1),ys={class:"p-3 border-b border-[#235CEE40]"},ws={class:"mb-2"},gs=s("p",{class:"text-sm text-[#9A9BA4]"}," Адрес ",-1),Ds={class:"p-3 border-b border-[#235CEE40]"},js={__name:"index",setup(Cs){const b=m("profile"),n=C(),f=E();k(f);const e=g(),c=m(!0),i=(u,x)=>{O(u,{type:x,autoClose:1e3})},v=async()=>{await e.acceptOrder(e.resultDetails.id),e.resultAccept!==!1?(i("Заказ принят","success"),await e.orderDetails(n.params.id)):i("Произошла ошибка","error")},y=async()=>{await e.completeOrder(e.resultDetails.id),e.resultComplete!==!1?(i("Заказ завершен","success"),await e.orderDetails(n.params.id)):i("Произошла ошибка","error")};return A(async()=>{await B(),await e.orderDetails(n.params.id),c.value=!1}),(u,x)=>{const w=j("RouterLink");return o(),l(F,null,[s("div",R,[s("div",V,[c.value?(o(),_(p,{key:1})):(o(),l("div",N,[s("div",I,[d(w,{to:"/orders"},{default:h(()=>[d(t(S),{class:"text-mainColor"})]),_:1}),s("p",M," Заказ №"+a(t(e).resultDetails.user_order.order_number),1)]),t(e).resultDetails.status==="created"?(o(),l("p",T," Создан ")):r("",!0),t(e).resultDetails.status==="in_process"?(o(),l("p",P," В процессе ")):r("",!0),t(e).resultDetails.status==="completed"?(o(),l("p",U," Завершен ")):r("",!0)]))])]),s("div",$,[s("div",q,[d(L,{name:b.value},{default:h(()=>[c.value?(o(),_(p,{key:1,class:"mb-4"})):(o(),l("div",z,[G,s("div",H,[s("div",J,[s("div",null,[s("div",K,[Q,s("p",W,a(t(e).resultDetails.user.name),1)]),s("div",X,[s("div",Y,[Z,s("p",ss,a(t(e).resultDetails.user.email),1)]),s("div",es,[ts,s("p",os,a(t(e).resultDetails.user.phone_number),1)])])])])])])),c.value?(o(),_(p,{key:3})):(o(),l("div",as,[ls,s("div",rs,[s("div",cs,[s("div",null,[s("div",is,[s("div",ns,[ds,s("p",_s,a(t(e).resultDetails.day),1)]),s("div",ps,[us,s("p",xs,a(t(e).resultDetails.start)+" - "+a(t(e).resultDetails.end),1)])]),s("div",ms,[hs,s("p",bs,a(t(e).resultDetails.price),1)]),s("div",fs,[vs,s("p",ys,a(t(e).resultDetails.service.name),1)]),s("div",ws,[gs,s("p",Ds,a(t(e).resultDetails.address.title),1)])])])])])),t(e).resultDetails.status==="created"?(o(),l("p",{key:4,onClick:v,class:"bg-[#1EDA00] cursor-pointer text-white mt-4 text-center py-2 rounded-lg"}," Принять заказ ")):r("",!0),t(e).resultDetails.status==="in_process"?(o(),l("p",{key:5,onClick:y,class:"bg-[#1EDA00] cursor-pointer text-white mt-4 text-center py-2 rounded-lg"}," Завершить заказ ")):r("",!0)]),_:1},8,["name"])])])],64)}}};export{js as default};
