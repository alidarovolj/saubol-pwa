import{e as d,z as C,A as S,u as F,s as E,D as $,f as u,g as t,a as B,o as D,q as r,h as A,R as N,F as m,B as h,l as T,t as V,n as x,C as p}from"./index-CvdpWBVJ.js";import{_ as z}from"./orders.vue_vue_type_script_setup_true_lang-DotosKrB.js";import{S as M}from"./spinner-2xjK-I4S.js";const R={class:"bg-white py-2 mt-3"},U={class:"mt-8"},j={class:"container mx-auto px-4 lg:px-0"},q={key:0,class:"mb-5 w-full"},I={class:"mb-5 flex items-center justify-between"},L=t("p",{class:"text-xl font-bold"},[V(" График работы "),t("span",{class:"text-red-500"},"*")],-1),W=t("option",{value:15}," 15 мин ",-1),G=t("option",{value:30}," 30 мин ",-1),H=t("option",{value:45}," 45 мин ",-1),J=[W,G,H],K=t("p",{class:"font-medium bg-[#E7F0FF] py-1 px-4 mb-5 rounded"}," Дни приема ",-1),O={class:"flex flex-row flex-wrap gap-3 mb-5"},P=["onClick"],Q=t("p",{class:"font-medium bg-[#E7F0FF] py-1 px-4 mb-5 rounded"}," Время приема ",-1),X={class:"flex flex-wrap gap-1 lg:gap-2"},Y=["onClick"],Z=t("p",{class:"bg-[#1EDA00] cursor-pointer text-white mt-4 text-center py-2 rounded-lg"}," Принять заказ ",-1),oe={__name:"index",setup(ee){const f=d("profile"),_=d(!1),c=d([]),y=d([{title:"Понедельник",value:1},{title:"Вторник",value:2},{title:"Среда",value:3},{title:"Четверг",value:4},{title:"Пятница",value:5},{title:"Суббота",value:6},{title:"Воскресенье",value:7}]);function v(l){const a=[];let e=0,o=0;for(;e<24;){const n=`${e.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`;o+=l,o>=60&&(e+=1,o=0);const k=`${e.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`;a.push({start:n,end:k})}return a}const i=d([]),b=l=>{g(l.value)?s.value.schedule.days=s.value.schedule.days.filter(a=>a.weekday_number!==l.value):s.value.schedule.days.push({weekday_number:l.value,times:[]})},g=l=>s.value.schedule.days.some(a=>a.weekday_number===l);C(async()=>{await S(),i.value=v(s.value.schedule.duration),_.value=!1});const s=d({schedule:{duration:15,days:[],times:[]}}),w=F();return E(w),$(()=>s.value.schedule.duration,()=>{c.value=[],i.value=[],i.value=[...v(s.value.schedule.duration)],s.value.schedule.days=[]}),(l,a)=>(r(),u("div",R,[t("div",U,[t("div",j,[B(z,{name:f.value},{default:D(()=>[_.value?(r(),T(M,{key:1})):(r(),u("div",q,[t("div",I,[L,A(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.schedule.duration=e),class:"p-3 border w-max rounded-lg",name:"",id:""},J,512),[[N,s.value.schedule.duration]])]),K,t("div",O,[(r(!0),u(m,null,h(y.value,(e,o)=>(r(),u("div",{key:o,onClick:n=>b(e),class:x([{"bg-mainColor text-white":s.value.schedule.days.some(n=>n.weekday_number===e.value)},"w-max px-3 py-2 border text-xs border-[#ECECEC] rounded text-center cursor-pointer transition-all"])},p(e.title),11,P))),128))]),Q,t("div",X,[(r(!0),u(m,null,h(i.value,(e,o)=>(r(),u("p",{key:o,onClick:n=>c.value.push(e),class:x([{"bg-mainColor text-white":c.value.some(n=>n.start===e.start&&n.end===e.end)},"cursor-pointer w-third lg:w-fifth transition-all border border-[#ECECEC] rounded text-center py-2 bg-[#F6F6F7] text-[#9A9BA4]"])},p(e.start)+" - "+p(e.end),11,Y))),128))]),Z]))]),_:1},8,["name"])])])]))}};export{oe as default};
